"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4552],{285:(e,t,r)=>{r.d(t,{$:()=>c});var a=r(5155),s=r(2115),i=r(9708),o=r(2085),n=r(9434);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-white transition-all duration-300 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-900 text-white hover:bg-gray-800 shadow-sm hover:shadow-md",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-sm hover:shadow-md",outline:"border border-gray-200 bg-white text-gray-700 hover:bg-gray-50 shadow-sm hover:shadow-md",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 shadow-sm",ghost:"hover:bg-gray-100 hover:text-gray-900 transition-colors duration-300",link:"text-gray-700 underline-offset-4 hover:underline hover:text-gray-900 transition-colors duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:c=!1,...d}=e,h=c?i.DX:"button";return(0,a.jsx)(h,{className:(0,n.cn)(l({variant:s,size:o,className:r})),ref:t,...d})});c.displayName="Button"},4552:(e,t,r)=>{r.d(t,{y:()=>v});var a=r(5155),s=r(2115),i=r(6766),o=r(6874),n=r.n(o),l=r(1976),c=r(6516),d=r(4516),h=r(6643),u=r(2717),p=r(7918),f=r(6695),x=r(285),g=r(9434),m=r(7600),y=r(9509);function v(e){let{property:t,showFavorite:r=!0,showShare:o=!0}=e,{user:v}=(0,m.A)(),[w,b]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),k="Hi! I'm interested in ".concat(t.title," listed at ").concat((0,g.vv)(t.price),". Could you provide more details?"),C=(0,g.rr)(y.env.NEXT_PUBLIC_WHATSAPP_NUMBER||"",k);(0,s.useEffect)(()=>{v&&A()},[v,t.id]);let A=async()=>{try{let e=await fetch("/api/user/favorites");if(e.ok){let r=(await e.json()).favorites.some(e=>e.propertyId===t.id);b(r)}}catch(e){console.error("Error checking favorite status:",e)}},P=async e=>{if(e.preventDefault(),e.stopPropagation(),!v)return void alert("Please sign in to save favorites");N(!0);try{w?(await fetch("/api/user/favorites",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({propertyId:t.id})})).ok&&b(!1):(await fetch("/api/user/favorites",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({propertyId:t.id})})).ok&&b(!0)}catch(e){console.error("Error toggling favorite:",e)}finally{N(!1)}},T=async e=>{if(e.preventDefault(),e.stopPropagation(),navigator.share)try{await navigator.share({title:t.title,text:t.description,url:"".concat(window.location.origin,"/properties/").concat(t.slug)})}catch(e){console.error("Error sharing:",e)}else{let e="".concat(window.location.origin,"/properties/").concat(t.slug);navigator.clipboard.writeText(e),alert("Property link copied to clipboard!")}};return(0,a.jsxs)(f.Zp,{className:"group overflow-hidden hover:shadow-2xl transition-all duration-500 ease-out hover:-translate-y-2 border-0 bg-white",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n(),{href:"/properties/".concat(t.slug),children:(0,a.jsx)("div",{className:"aspect-[4/3] overflow-hidden",children:(0,a.jsx)(i.default,{src:t.images[0]||"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",alt:t.title,width:400,height:300,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-out"})})}),(0,a.jsxs)("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[(0,a.jsx)("span",{className:"bg-gray-900 text-white text-xs px-3 py-1.5 rounded-full font-medium backdrop-blur-sm",children:t.propertyType.replace("_"," ")}),t.featured&&(0,a.jsx)("span",{className:"bg-gray-700 text-white text-xs px-3 py-1.5 rounded-full font-medium backdrop-blur-sm",children:"Featured"}),"AVAILABLE"!==t.status&&(0,a.jsx)("span",{className:"bg-red-500 text-white text-xs px-3 py-1.5 rounded-full font-medium backdrop-blur-sm",children:t.status.replace("_"," ")})]}),(0,a.jsxs)("div",{className:"absolute top-4 right-4 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[r&&(0,a.jsx)(x.$,{size:"icon",variant:"secondary",className:"bg-white/90 hover:bg-white shadow-lg border-0 rounded-full w-10 h-10",onClick:P,disabled:j,children:(0,a.jsx)(l.A,{className:"w-4 h-4 ".concat(w?"text-red-500 fill-current":"text-gray-600"," ").concat(j?"animate-pulse":"")})}),o&&(0,a.jsx)(x.$,{size:"icon",variant:"secondary",className:"bg-white/90 hover:bg-white shadow-lg border-0 rounded-full w-10 h-10",onClick:T,children:(0,a.jsx)(c.A,{className:"w-4 h-4 text-gray-600"})})]}),(0,a.jsx)("div",{className:"absolute bottom-4 left-4",children:(0,a.jsx)("div",{className:"bg-white/95 backdrop-blur-sm rounded-xl px-4 py-2 shadow-lg",children:(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(0,g.vv)(t.price)})})})]}),(0,a.jsxs)(f.Wu,{className:"p-6",children:[(0,a.jsx)(n(),{href:"/properties/".concat(t.slug),children:(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3 line-clamp-2 group-hover:text-gray-700 transition-colors duration-300 text-gray-900",children:t.title})}),(0,a.jsxs)("div",{className:"flex items-center text-gray-500 mb-4",children:[(0,a.jsx)(d.A,{className:"w-4 h-4 mr-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm truncate",children:t.location.name})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2 mb-5 leading-relaxed",children:t.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-5 bg-gray-50 rounded-lg p-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("span",{children:[t.bedrooms," Beds"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(u.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("span",{children:[t.bathrooms," Baths"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("span",{children:[t.area," sqft"]})]})]}),t.amenities&&t.amenities.length>0&&(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[t.amenities.slice(0,3).map((e,t)=>(0,a.jsx)("span",{className:"bg-gray-100 text-gray-700 text-xs px-3 py-1 rounded-full",children:"string"==typeof e?e:e.name},t)),t.amenities.length>3&&(0,a.jsxs)("span",{className:"bg-gray-100 text-gray-700 text-xs px-3 py-1 rounded-full",children:["+",t.amenities.length-3," more"]})]})})]}),(0,a.jsxs)(f.wL,{className:"p-6 pt-0 flex gap-3",children:[(0,a.jsx)(x.$,{variant:"outline",className:"flex-1 border-gray-200 text-gray-700 hover:bg-gray-50 transition-all duration-300",asChild:!0,children:(0,a.jsx)(n(),{href:"/properties/".concat(t.slug),children:"View Details"})}),(0,a.jsx)(x.$,{className:"flex-1 bg-gray-900 hover:bg-gray-800 text-white transition-all duration-300",asChild:!0,children:(0,a.jsx)("a",{href:C,target:"_blank",rel:"noopener noreferrer",children:"Inquire Now"})})]})]})}},6695:(e,t,r)=>{r.d(t,{Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>n,wL:()=>d});var a=r(5155),s=r(2115),i=r(9434);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-white text-gray-950 shadow-sm",r),...s})});o.displayName="Card";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});n.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-gray-500",r),...s})}).displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})});d.displayName="CardFooter"},7600:(e,t,r)=>{r.d(t,{A:()=>n,AuthProvider:()=>o});var a=r(5155),s=r(2115);let i=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[n,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();o(t.user)}}catch(e){console.error("Auth check failed:",e)}finally{l(!1)}},d=async(e,t)=>{try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(r.ok){let e=await r.json();return o(e.user),!0}return!1}catch(e){return console.error("Login failed:",e),!1}},h=async e=>{try{let t=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){let e=await t.json();return o(e.user),!0}return!1}catch(e){return console.error("Registration failed:",e),!1}},u=async()=>{try{await fetch("/api/auth/logout",{method:"POST"})}catch(e){console.error("Logout failed:",e)}finally{o(null)}};return(0,a.jsx)(i.Provider,{value:{user:r,loading:n,login:d,register:h,logout:u,updateUser:e=>{r&&o({...r,...e})}},children:t})}function n(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9434:(e,t,r)=>{r.d(t,{cn:()=>i,oG:()=>l,rr:()=>n,vv:()=>o});var a=r(2596),s=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}function o(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function n(e,t){let r=t?encodeURIComponent(t):"";return"https://wa.me/".concat(e.replace(/[^\d]/g,"")).concat(r?"?text=".concat(r):"")}function l(){window.scrollTo({top:0,behavior:"smooth"})}}}]);