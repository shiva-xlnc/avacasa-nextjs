(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8964],{8413:()=>{},8964:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>j});var r=n(5155),a=n(2115);let l=(0,a.createContext)(null);function o(){let e=(0,a.use)(l);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var i=n(5752),c=n.n(i);let u=(0,a.forwardRef)(function({bounds:e,boundsOptions:t,center:n,children:r,className:o,id:c,placeholder:u,style:s,whenReady:d,zoom:p,...f},m){let[h]=(0,a.useState)({className:o,id:c,style:s}),[x,b]=(0,a.useState)(null),v=(0,a.useRef)(void 0);(0,a.useImperativeHandle)(m,()=>x?.map??null,[x]);let g=(0,a.useCallback)(r=>{if(null!==r&&!v.current){let a=new i.Map(r,f);v.current=a,null!=n&&null!=p?a.setView(n,p):null!=e&&a.fitBounds(e,t),null!=d&&a.whenReady(d),b(Object.freeze({__version:1,map:a}))}},[]);(0,a.useEffect)(()=>()=>{x?.map.remove()},[x]);let y=x?a.createElement(l,{value:x},r):u??null;return a.createElement("div",{...h,ref:g},y)});var s=n(7650);function d(e,t){let n=(0,a.useRef)(t);(0,a.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function p(e,t){let n=(0,a.useRef)(void 0);(0,a.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function f(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function m(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function h(e,t){return null==t?function(t,n){let r=(0,a.useRef)(void 0);return r.current||(r.current=e(t,n)),r}:function(n,r){let l=(0,a.useRef)(void 0);l.current||(l.current=e(n,r));let o=(0,a.useRef)(n),{instance:i}=l.current;return(0,a.useEffect)(function(){o.current!==n&&(t(i,n,o.current),o.current=n)},[i,n,t]),l}}function x(e){return function(t){var n;let r=o(),l=e(f(t,r),r);return d(r.map,t.attribution),p(l.current,t.eventHandlers),n=l.current,(0,a.useEffect)(function(){return(r.layerContainer??r.map).addLayer(n.instance),function(){r.layerContainer?.removeLayer(n.instance),r.map.removeLayer(n.instance)}},[r,n]),l}}let b=function(e,t){var n;return n=x(h(e,t)),(0,a.forwardRef)(function(e,t){let{instance:r}=n(e).current;return(0,a.useImperativeHandle)(t,()=>r),null})}(function({url:e,...t},n){return m(new i.TileLayer(e,f(t,n)),n)},function(e,t,n){let{opacity:r,zIndex:a}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=a&&a!==n.zIndex&&e.setZIndex(a);let{url:l}=t;null!=l&&l!==n.url&&e.setUrl(l)}),v=function(e,t){var n;return n=x(h(e,t)),(0,a.forwardRef)(function(e,t){let{instance:r,context:o}=n(e).current;(0,a.useImperativeHandle)(t,()=>r);let{children:i}=e;return null==i?null:a.createElement(l,{value:o},i)})}(function({position:e,...t},n){var r;let a=new i.Marker(e,t);return m(a,(r={overlayContainer:a},Object.freeze({...n,...r})))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())}),g=function(e,t){var n,r;return n=h(e),r=function(e,r){let a=o(),l=n(f(e,a),a);return d(a.map,e.attribution),p(l.current,e.eventHandlers),t(l.current,a,e,r),l},(0,a.forwardRef)(function(e,t){let[n,l]=(0,a.useState)(!1),{instance:o}=r(e,l).current;(0,a.useImperativeHandle)(t,()=>o),(0,a.useEffect)(function(){n&&o.update()},[o,n,e.children]);let i=o._contentNode;return i?(0,s.createPortal)(e.children,i):null})}(function(e,t){return m(new i.Popup(e,t.overlayContainer),t)},function(e,t,{position:n},r){(0,a.useEffect)(function(){let{instance:a}=e;function l(e){e.popup===a&&(a.update(),r(!0))}function o(e){e.popup===a&&r(!1)}return t.map.on({popupopen:l,popupclose:o}),null==t.overlayContainer?(null!=n&&a.setLatLng(n),a.openOn(t.map)):t.overlayContainer.bindPopup(a),function(){t.map.off({popupopen:l,popupclose:o}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(a)}},[e,t,r,n])});n(8413);var y=n(9434);delete c().Icon.Default.prototype._getIconUrl,c().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});let w=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,y.vv)(e).replace("₹","");return c().divIcon({className:"custom-price-marker",html:'\n      <div class="relative">\n        <div class="bg-white '.concat(t?"border-2 border-primary":"border border-gray-300",' rounded-full px-3 py-1 shadow-lg hover:shadow-xl transition-shadow cursor-pointer">\n          <span class="text-sm font-semibold ').concat(t?"text-primary":"text-gray-900",'">₹').concat(n,'</span>\n        </div>\n        <div class="absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ').concat(t?"border-t-primary":"border-t-white",'"></div>\n      </div>\n    '),iconSize:[80,40],iconAnchor:[40,40]})};function j(e){let{properties:t,selectedProperty:n,onPropertySelect:l}=e,o=(0,a.useRef)(null),{center:i,zoom:c}=(()=>{if(0===t.length)return{center:[12.9716,77.5946],zoom:6};if(1===t.length)return{center:[t[0].coordinates.lat,t[0].coordinates.lng],zoom:12};let e=t.map(e=>e.coordinates.lat),n=t.map(e=>e.coordinates.lng);return{center:[(Math.max(...e)+Math.min(...e))/2,(Math.max(...n)+Math.min(...n))/2],zoom:8}})();return(0,a.useEffect)(()=>{let e=document.createElement("style");return e.textContent="\n      .custom-price-marker {\n        background: transparent !important;\n        border: none !important;\n      }\n      .leaflet-popup-content-wrapper {\n        border-radius: 12px;\n        padding: 0;\n      }\n      .leaflet-popup-content {\n        margin: 0;\n        border-radius: 12px;\n        overflow: hidden;\n      }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),(0,r.jsx)("div",{className:"h-full w-full",children:(0,r.jsxs)(u,{ref:o,center:i,zoom:c,style:{height:"100%",width:"100%"},className:"z-0",children:[(0,r.jsx)(b,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),t.map(e=>(0,r.jsx)(v,{position:[e.coordinates.lat,e.coordinates.lng],icon:w(e.price,e.featured),eventHandlers:{click:()=>null==l?void 0:l(e)},children:(0,r.jsx)(g,{className:"custom-popup",closeButton:!1,children:(0,r.jsxs)("div",{className:"w-64 p-0",children:[(0,r.jsxs)("div",{className:"relative aspect-[4/3] mb-3",children:[(0,r.jsx)("img",{src:e.images[0]||"https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80",alt:e.title,className:"w-full h-full object-cover rounded-t-lg"}),e.featured&&(0,r.jsx)("div",{className:"absolute top-2 right-2",children:(0,r.jsx)("span",{className:"bg-primary text-white px-2 py-1 rounded text-xs font-medium",children:"Featured"})})]}),(0,r.jsxs)("div",{className:"px-3 pb-3",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-1",children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-1",children:e.location.name}),(0,r.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,r.jsxs)("div",{className:"flex gap-3 text-xs text-gray-500",children:[(0,r.jsxs)("span",{children:[e.bedrooms," beds"]}),(0,r.jsxs)("span",{children:[e.bathrooms," baths"]}),(0,r.jsxs)("span",{children:[e.area," sqft"]})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-lg font-bold text-primary",children:(0,y.vv)(e.price)}),(0,r.jsx)("button",{className:"bg-primary text-white px-3 py-1 rounded text-sm hover:bg-primary/90 transition-colors",onClick:t=>{t.stopPropagation(),window.open("/properties/".concat(e.slug),"_blank")},children:"View Details"})]})]})]})})},e.id))]})})}}}]);