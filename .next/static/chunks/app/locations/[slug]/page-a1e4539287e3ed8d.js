(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[147],{4289:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>v});var r=a(5155),l=a(2115),i=a(5695),t=a(6766),c=a(4552),n=a(285),d=a(7580),o=a(8564),m=a(9074),x=a(4516),h=a(6932),p=a(4653),g=a(3578),u=a(6098);let j=(0,a(5028).default)(()=>Promise.all([a.e(9484),a.e(1761),a.e(8964)]).then(a.bind(a,8964)),{loadableGenerated:{webpack:()=>[8964]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"h-full bg-gray-100 animate-pulse rounded-lg"})});function v(){let e=(0,i.useParams)(),s=null==e?void 0:e.slug,[a,v]=(0,l.useState)(null),[N,y]=(0,l.useState)(!0),[f,b]=(0,l.useState)(null),[w,A]=(0,l.useState)(!1),[L,F]=(0,l.useState)({propertyType:void 0,priceRange:"all",sortBy:"featured"});(0,l.useEffect)(()=>{s&&T()},[s]);let T=async()=>{try{y(!0),b(null);let e=await fetch("/api/locations/".concat(s)),a=await e.json();if(!e.ok)throw 404===e.status&&(0,i.notFound)(),Error(a.error||"Failed to fetch location");if(a.success)v(a.data);else throw Error(a.error||"Failed to fetch location")}catch(e){console.error("Error fetching location:",e),b(e instanceof Error?e.message:"Failed to load location")}finally{y(!1)}};if(N)return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 animate-pulse",children:[(0,r.jsx)("div",{className:"h-96 bg-gray-200"}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-4 w-1/3"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded mb-8 w-2/3"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,r.jsx)("div",{className:"aspect-[4/3] bg-gray-200 rounded-t-lg"}),(0,r.jsxs)("div",{className:"p-4 space-y-3",children:[(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3"})]})]},s))})]})]});if(f)return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error Loading Location"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:f}),(0,r.jsx)(n.$,{onClick:T,children:"Try Again"})]})});a||(0,i.notFound)();let E=[...a.properties.filter(e=>!L.propertyType||e.propertyType===L.propertyType)].sort((e,s)=>{switch(L.sortBy){case"featured":return s.featured?1:-1;case"price_low":return e.price-s.price;case"price_high":return s.price-e.price;default:return 0}});return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsxs)("div",{className:"relative h-96 overflow-hidden",children:[(0,r.jsx)(t.default,{src:a.image,alt:a.name,fill:!0,className:"object-cover",priority:!0}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-8",children:(0,r.jsx)("div",{className:"container mx-auto",children:(0,r.jsxs)("div",{className:"max-w-2xl text-white",children:[(0,r.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Holiday Homes in ",a.name]}),(0,r.jsx)("p",{className:"text-lg opacity-90 mb-6",children:a.description}),(0,r.jsxs)("div",{className:"flex items-center gap-6 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(d.A,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[a.propertyCount," Properties"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 fill-current"}),(0,r.jsxs)("span",{children:[a.avgRating," Avg Rating"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(m.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Year-round Destination"})]})]})]})})})]}),a.highlights&&a.highlights.length>0&&(0,r.jsx)("div",{className:"bg-white border-b",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-6",children:["What makes ",a.name," special"]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:a.highlights.map((e,s)=>(0,r.jsxs)("div",{className:"text-center p-4 rounded-lg border hover:border-primary transition-colors",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,r.jsx)(x.A,{className:"w-6 h-6 text-primary"})}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e})]},s))})]})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-8",children:(0,r.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,r.jsxs)("select",{value:L.propertyType||"",onChange:e=>F(s=>({...s,propertyType:e.target.value||void 0})),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,r.jsx)("option",{value:"",children:"All Types"}),(0,r.jsx)("option",{value:u.Ut.VILLA,children:"Villas"}),(0,r.jsx)("option",{value:u.Ut.HOLIDAY_HOME,children:"Holiday Homes"}),(0,r.jsx)("option",{value:u.Ut.FARMLAND,children:"Farmlands"})]}),(0,r.jsxs)("select",{value:L.sortBy,onChange:e=>F(s=>({...s,sortBy:e.target.value})),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[(0,r.jsx)("option",{value:"featured",children:"Featured First"}),(0,r.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,r.jsx)("option",{value:"price_high",children:"Price: High to Low"})]}),(0,r.jsxs)(n.$,{variant:"outline",size:"sm",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"More Filters"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:[E.length," properties found"]}),(0,r.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>A(!w),children:w?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"List View"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Map View"]})})]})]})}),(0,r.jsxs)("div",{className:"flex gap-8",children:[(0,r.jsxs)("div",{className:"".concat(w?"lg:w-1/2":"w-full"," transition-all duration-300"),children:[(0,r.jsx)("div",{className:"grid grid-cols-1 ".concat(w?"md:grid-cols-1 lg:grid-cols-2":"md:grid-cols-2 lg:grid-cols-3"," gap-6"),children:E.map(e=>(0,r.jsx)(c.y,{property:e},e.id))}),0===E.length&&(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)(x.A,{className:"w-12 h-12 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"No Properties Found"}),(0,r.jsxs)("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:["We couldn't find any properties matching your criteria in ",a.name,"."]}),(0,r.jsx)(n.$,{onClick:()=>F({propertyType:void 0,priceRange:"all",sortBy:"featured"}),children:"Clear Filters"})]})]}),w&&(0,r.jsx)("div",{className:"lg:w-1/2",children:(0,r.jsx)("div",{className:"sticky top-24 h-[600px] rounded-lg overflow-hidden shadow-lg",children:(0,r.jsx)(j,{properties:E})})})]})]})]})}},6098:(e,s,a)=>{"use strict";a.d(s,{Ut:()=>r});var r=function(e){return e.HOLIDAY_HOME="HOLIDAY_HOME",e.FARMLAND="FARMLAND",e.PLOT="PLOT",e.VILLA="VILLA",e.APARTMENT="APARTMENT",e}({})},7704:(e,s,a)=>{Promise.resolve().then(a.bind(a,4289))}},e=>{var s=s=>e(e.s=s);e.O(0,[3455,6874,3063,9448,4552,8441,1684,7358],()=>s(7704)),_N_E=e.O()}]);