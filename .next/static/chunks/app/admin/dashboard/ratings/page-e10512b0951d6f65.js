(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1112],{285:(e,t,a)=>{"use strict";a.d(t,{$:()=>c});var s=a(5155),r=a(2115),i=a(9708),l=a(2085),n=a(9434);let d=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-white transition-all duration-300 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-900 text-white hover:bg-gray-800 shadow-sm hover:shadow-md",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-sm hover:shadow-md",outline:"border border-gray-200 bg-white text-gray-700 hover:bg-gray-50 shadow-sm hover:shadow-md",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 shadow-sm",ghost:"hover:bg-gray-100 hover:text-gray-900 transition-colors duration-300",link:"text-gray-700 underline-offset-4 hover:underline hover:text-gray-900 transition-colors duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:c=!1,...o}=e,m=c?i.DX:"button";return(0,s.jsx)(m,{className:(0,n.cn)(d({variant:r,size:l,className:a})),ref:t,...o})});c.displayName="Button"},1397:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_,dynamic:()=>U});var s=a(5155),r=a(2115),i=a(285),l=a(2523),n=a(6695),d=a(6126),c=a(8539),o=a(4186),m=a(646),x=a(4861),h=a(7210),u=a(8564),p=a(4616),f=a(7924),g=a(1497),j=a(8136),v=a(1007),y=a(9074),N=a(333),w=a(3717),b=a(2525),C=a(4165),E=a(2697),R=a(6474),A=a(7863),F=a(5196),S=a(9434);let k=E.bL;E.YJ;let P=E.WT,D=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(E.l9,{ref:t,className:(0,S.cn)("flex h-11 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[r,(0,s.jsx)(E.In,{asChild:!0,children:(0,s.jsx)(R.A,{className:"h-4 w-4 opacity-50"})})]})});D.displayName=E.l9.displayName;let J=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.PP,{ref:t,className:(0,S.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(A.A,{className:"h-4 w-4"})})});J.displayName=E.PP.displayName;let I=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.wn,{ref:t,className:(0,S.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,s.jsx)(R.A,{className:"h-4 w-4"})})});I.displayName=E.wn.displayName;let G=r.forwardRef((e,t)=>{let{className:a,children:r,position:i="popper",...l}=e;return(0,s.jsx)(E.ZL,{children:(0,s.jsxs)(E.UC,{ref:t,className:(0,S.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-white text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...l,children:[(0,s.jsx)(J,{}),(0,s.jsx)(E.LM,{className:(0,S.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(I,{})]})})});G.displayName=E.UC.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.JU,{ref:t,className:(0,S.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=E.JU.displayName;let L=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(E.q7,{ref:t,className:(0,S.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(E.VF,{children:(0,s.jsx)(F.A,{className:"h-4 w-4"})})}),(0,s.jsx)(E.p4,{children:r})]})});L.displayName=E.q7.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(E.wv,{ref:t,className:(0,S.cn)("-mx-1 my-1 h-px bg-gray-100",a),...r})}).displayName=E.wv.displayName;var T=a(5057),V=a(6981);let z=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(V.bL,{ref:t,className:(0,S.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-gray-300 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-white",a),...r,children:(0,s.jsx)(V.C1,{className:(0,S.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(F.A,{className:"h-4 w-4"})})})});z.displayName=V.bL.displayName;let O=0,U="force-dynamic",$={PENDING:{color:"bg-yellow-100 text-yellow-800",icon:o.A,label:"Pending"},APPROVED:{color:"bg-green-100 text-green-800",icon:m.A,label:"Approved"},REJECTED:{color:"bg-red-100 text-red-800",icon:x.A,label:"Rejected"},FLAGGED:{color:"bg-orange-100 text-orange-800",icon:h.A,label:"Flagged"}};function _(){let[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)([]),[x,h]=(0,r.useState)(!0),[E,R]=(0,r.useState)(""),[A,F]=(0,r.useState)("all"),[S,J]=(0,r.useState)("all"),[I,V]=(0,r.useState)(1),[U,_]=(0,r.useState)(1),[Z,M]=(0,r.useState)(null),[W,H]=(0,r.useState)(!1),[Y,q]=(0,r.useState)(!1),[B,Q]=(0,r.useState)(!1),{toast:X}=function(){let[e,t]=(0,r.useState)([]);return{toast:(0,r.useCallback)(e=>{let{title:a,description:s,variant:r="default"}=e,i=(++O).toString(),l={id:i,title:a,description:s,variant:r};return t(e=>[...e,l]),setTimeout(()=>{t(e=>e.filter(e=>e.id!==i))},5e3),i},[]),dismiss:(0,r.useCallback)(e=>{t(t=>t.filter(t=>t.id!==e))},[]),toasts:e}}(),[K,ee]=(0,r.useState)({rating:5,review:"",name:"",email:"",verified:!1,status:"PENDING",adminNotes:"",helpful:0}),[et,ea]=(0,r.useState)({propertyId:"",rating:5,review:"",name:"",email:"",verified:!1,status:"PENDING"}),es=async()=>{try{h(!0);let e=new URLSearchParams({page:I.toString(),limit:"20",..."all"!==A&&{status:A},..."all"!==S&&{propertyId:S},...E&&{search:E}}),a=await fetch("/api/admin/ratings?".concat(e)),s=await a.json();a.ok?(t(s.ratings),_(s.pagination.pages)):X({title:"Error",description:s.error||"Failed to fetch ratings",variant:"destructive"})}catch(e){X({title:"Error",description:"Failed to fetch ratings",variant:"destructive"})}finally{h(!1)}},er=async()=>{try{let e=await fetch("/api/admin/properties"),t=await e.json();e.ok&&o(t.properties.map(e=>({id:e.id,title:e.title,slug:e.slug})))}catch(e){console.error("Failed to fetch properties:",e)}};(0,r.useEffect)(()=>{es()},[I,A,S,E]),(0,r.useEffect)(()=>{er()},[]);let ei=e=>{M(e),ee({rating:e.rating,review:e.review||"",name:e.name,email:e.email||"",verified:e.verified,status:e.status,adminNotes:e.adminNotes||"",helpful:e.helpful}),H(!0)},el=async()=>{if(Z)try{let e=await fetch("/api/admin/ratings/".concat(Z.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(K)}),t=await e.json();e.ok?(X({title:"Success",description:"Rating updated successfully"}),H(!1),es()):X({title:"Error",description:t.error||"Failed to update rating",variant:"destructive"})}catch(e){X({title:"Error",description:"Failed to update rating",variant:"destructive"})}},en=async()=>{try{let e=await fetch("/api/admin/ratings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(et)}),t=await e.json();e.ok?(X({title:"Success",description:"Rating created successfully"}),q(!1),ea({propertyId:"",rating:5,review:"",name:"",email:"",verified:!1,status:"PENDING"}),es()):X({title:"Error",description:t.error||"Failed to create rating",variant:"destructive"})}catch(e){X({title:"Error",description:"Failed to create rating",variant:"destructive"})}},ed=async()=>{if(Z)try{let e=await fetch("/api/admin/ratings/".concat(Z.id),{method:"DELETE"}),t=await e.json();e.ok?(X({title:"Success",description:"Rating deleted successfully"}),Q(!1),es()):X({title:"Error",description:t.error||"Failed to delete rating",variant:"destructive"})}catch(e){X({title:"Error",description:"Failed to delete rating",variant:"destructive"})}},ec=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sm",a="sm"===t?"w-4 h-4":"w-5 h-5";return(0,s.jsxs)("div",{className:"flex items-center",children:[[1,2,3,4,5].map(t=>(0,s.jsx)(u.A,{className:"".concat(a," ").concat(t<=e?"text-yellow-400 fill-current":"text-gray-300")},t)),(0,s.jsxs)("span",{className:"ml-1 text-sm text-gray-600",children:["(",e,")"]})]})},eo=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Ratings & Reviews"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage property ratings and customer reviews"})]}),(0,s.jsxs)(C.lG,{open:Y,onOpenChange:q,children:[(0,s.jsx)(C.zM,{asChild:!0,children:(0,s.jsxs)(i.$,{children:[(0,s.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Add Rating"]})}),(0,s.jsxs)(C.Cf,{className:"max-w-md",children:[(0,s.jsxs)(C.c7,{children:[(0,s.jsx)(C.L3,{children:"Add New Rating"}),(0,s.jsx)(C.rr,{children:"Create a new rating for a property"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"create-property",children:"Property"}),(0,s.jsxs)(k,{value:et.propertyId,onValueChange:e=>ea(t=>({...t,propertyId:e})),children:[(0,s.jsx)(D,{children:(0,s.jsx)(P,{placeholder:"Select property"})}),(0,s.jsx)(G,{children:a.map(e=>(0,s.jsx)(L,{value:e.id,children:e.title},e.id))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"create-rating",children:"Rating"}),(0,s.jsxs)(k,{value:et.rating.toString(),onValueChange:e=>ea(t=>({...t,rating:parseInt(e)})),children:[(0,s.jsx)(D,{children:(0,s.jsx)(P,{})}),(0,s.jsx)(G,{children:[1,2,3,4,5].map(e=>(0,s.jsxs)(L,{value:e.toString(),children:[e," Star",1!==e?"s":""]},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"create-name",children:"Reviewer Name"}),(0,s.jsx)(l.p,{id:"create-name",value:et.name,onChange:e=>ea(t=>({...t,name:e.target.value})),placeholder:"Enter reviewer name"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"create-email",children:"Email (Optional)"}),(0,s.jsx)(l.p,{id:"create-email",type:"email",value:et.email,onChange:e=>ea(t=>({...t,email:e.target.value})),placeholder:"Enter email"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"create-review",children:"Review (Optional)"}),(0,s.jsx)(c.T,{id:"create-review",value:et.review,onChange:e=>ea(t=>({...t,review:e.target.value})),placeholder:"Enter review text",rows:3})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(z,{id:"create-verified",checked:et.verified,onCheckedChange:e=>ea(t=>({...t,verified:!!e}))}),(0,s.jsx)(T.J,{htmlFor:"create-verified",children:"Verified Review"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"create-status",children:"Status"}),(0,s.jsxs)(k,{value:et.status,onValueChange:e=>ea(t=>({...t,status:e})),children:[(0,s.jsx)(D,{children:(0,s.jsx)(P,{})}),(0,s.jsxs)(G,{children:[(0,s.jsx)(L,{value:"PENDING",children:"Pending"}),(0,s.jsx)(L,{value:"APPROVED",children:"Approved"}),(0,s.jsx)(L,{value:"REJECTED",children:"Rejected"}),(0,s.jsx)(L,{value:"FLAGGED",children:"Flagged"})]})]})]})]}),(0,s.jsxs)(C.Es,{children:[(0,s.jsx)(i.$,{variant:"outline",onClick:()=>q(!1),children:"Cancel"}),(0,s.jsx)(i.$,{onClick:en,children:"Create Rating"})]})]})]})]}),(0,s.jsx)(n.Zp,{children:(0,s.jsx)(n.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(f.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)(l.p,{placeholder:"Search ratings, reviews, or properties...",value:E,onChange:e=>R(e.target.value),className:"pl-10"})]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(k,{value:A,onValueChange:F,children:[(0,s.jsx)(D,{className:"w-40",children:(0,s.jsx)(P,{placeholder:"Status"})}),(0,s.jsxs)(G,{children:[(0,s.jsx)(L,{value:"all",children:"All Status"}),(0,s.jsx)(L,{value:"PENDING",children:"Pending"}),(0,s.jsx)(L,{value:"APPROVED",children:"Approved"}),(0,s.jsx)(L,{value:"REJECTED",children:"Rejected"}),(0,s.jsx)(L,{value:"FLAGGED",children:"Flagged"})]})]}),(0,s.jsxs)(k,{value:S,onValueChange:J,children:[(0,s.jsx)(D,{className:"w-48",children:(0,s.jsx)(P,{placeholder:"Property"})}),(0,s.jsxs)(G,{children:[(0,s.jsx)(L,{value:"all",children:"All Properties"}),a.map(e=>(0,s.jsx)(L,{value:e.id,children:e.title},e.id))]})]})]})]})})}),(0,s.jsx)("div",{className:"space-y-4",children:x?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading ratings..."})]}):0===e.length?(0,s.jsx)(n.Zp,{children:(0,s.jsxs)(n.Wu,{className:"text-center py-8",children:[(0,s.jsx)(g.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No ratings found"}),(0,s.jsx)("p",{className:"text-gray-600",children:"No ratings match your current filters."})]})}):e.map(e=>{let t=$[e.status].icon;return(0,s.jsx)(n.Zp,{children:(0,s.jsx)(n.Wu,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(j.A,{className:"w-4 h-4 text-gray-400"}),(0,s.jsx)("span",{className:"font-medium text-gray-900",children:e.property.title})]}),(0,s.jsxs)(d.E,{className:$[e.status].color,children:[(0,s.jsx)(t,{className:"w-3 h-3 mr-1"}),$[e.status].label]}),e.verified&&(0,s.jsxs)(d.E,{variant:"secondary",children:[(0,s.jsx)(m.A,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[ec(e.rating),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(v.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.name}),e.email&&(0,s.jsxs)("span",{children:["(",e.email,")"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,s.jsx)(y.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:eo(e.createdAt)})]})]}),e.review&&(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsxs)("p",{className:"text-gray-700 italic",children:['"',e.review,'"']})}),e.adminNotes&&(0,s.jsx)("div",{className:"mb-3 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,s.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,s.jsx)("strong",{children:"Admin Notes:"})," ",e.adminNotes]})}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(N.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[e.helpful," helpful"]})]}),e.user&&(0,s.jsxs)("span",{children:["User: ",e.user.name]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>ei(e),children:(0,s.jsx)(w.A,{className:"w-4 h-4"})}),(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>{M(e),Q(!0)},children:(0,s.jsx)(b.A,{className:"w-4 h-4"})})]})]})})},e.id)})}),U>1&&(0,s.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,s.jsx)(i.$,{variant:"outline",onClick:()=>V(e=>Math.max(1,e-1)),disabled:1===I,children:"Previous"}),(0,s.jsxs)("span",{className:"flex items-center px-4 py-2 text-sm text-gray-600",children:["Page ",I," of ",U]}),(0,s.jsx)(i.$,{variant:"outline",onClick:()=>V(e=>Math.min(U,e+1)),disabled:I===U,children:"Next"})]}),(0,s.jsx)(C.lG,{open:W,onOpenChange:H,children:(0,s.jsxs)(C.Cf,{className:"max-w-md",children:[(0,s.jsxs)(C.c7,{children:[(0,s.jsx)(C.L3,{children:"Edit Rating"}),(0,s.jsx)(C.rr,{children:"Update the rating details and moderation status"})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"edit-rating",children:"Rating"}),(0,s.jsxs)(k,{value:K.rating.toString(),onValueChange:e=>ee(t=>({...t,rating:parseInt(e)})),children:[(0,s.jsx)(D,{children:(0,s.jsx)(P,{})}),(0,s.jsx)(G,{children:[1,2,3,4,5].map(e=>(0,s.jsxs)(L,{value:e.toString(),children:[e," Star",1!==e?"s":""]},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"edit-name",children:"Reviewer Name"}),(0,s.jsx)(l.p,{id:"edit-name",value:K.name,onChange:e=>ee(t=>({...t,name:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"edit-email",children:"Email"}),(0,s.jsx)(l.p,{id:"edit-email",type:"email",value:K.email,onChange:e=>ee(t=>({...t,email:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"edit-review",children:"Review"}),(0,s.jsx)(c.T,{id:"edit-review",value:K.review,onChange:e=>ee(t=>({...t,review:e.target.value})),rows:3})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"edit-helpful",children:"Helpful Count"}),(0,s.jsx)(l.p,{id:"edit-helpful",type:"number",min:"0",value:K.helpful,onChange:e=>ee(t=>({...t,helpful:parseInt(e.target.value)||0}))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(z,{id:"edit-verified",checked:K.verified,onCheckedChange:e=>ee(t=>({...t,verified:!!e}))}),(0,s.jsx)(T.J,{htmlFor:"edit-verified",children:"Verified Review"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"edit-status",children:"Status"}),(0,s.jsxs)(k,{value:K.status,onValueChange:e=>ee(t=>({...t,status:e})),children:[(0,s.jsx)(D,{children:(0,s.jsx)(P,{})}),(0,s.jsxs)(G,{children:[(0,s.jsx)(L,{value:"PENDING",children:"Pending"}),(0,s.jsx)(L,{value:"APPROVED",children:"Approved"}),(0,s.jsx)(L,{value:"REJECTED",children:"Rejected"}),(0,s.jsx)(L,{value:"FLAGGED",children:"Flagged"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.J,{htmlFor:"edit-admin-notes",children:"Admin Notes"}),(0,s.jsx)(c.T,{id:"edit-admin-notes",value:K.adminNotes,onChange:e=>ee(t=>({...t,adminNotes:e.target.value})),placeholder:"Add admin notes for moderation...",rows:2})]})]}),(0,s.jsxs)(C.Es,{children:[(0,s.jsx)(i.$,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),(0,s.jsx)(i.$,{onClick:el,children:"Update Rating"})]})]})}),(0,s.jsx)(C.lG,{open:B,onOpenChange:Q,children:(0,s.jsxs)(C.Cf,{children:[(0,s.jsxs)(C.c7,{children:[(0,s.jsx)(C.L3,{children:"Delete Rating"}),(0,s.jsx)(C.rr,{children:"Are you sure you want to delete this rating? This action cannot be undone."})]}),Z&&(0,s.jsx)("div",{className:"py-4",children:(0,s.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[ec(Z.rating),(0,s.jsx)("span",{className:"font-medium",children:Z.name})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:Z.property.title}),Z.review&&(0,s.jsxs)("p",{className:"text-sm text-gray-700 mt-2 italic",children:['"',Z.review,'"']})]})}),(0,s.jsxs)(C.Es,{children:[(0,s.jsx)(i.$,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),(0,s.jsx)(i.$,{variant:"destructive",onClick:ed,children:"Delete Rating"})]})]})})]})}},2523:(e,t,a)=>{"use strict";a.d(t,{p:()=>l});var s=a(5155),r=a(2115),i=a(9434);let l=r.forwardRef((e,t)=>{let{className:a,type:r,...l}=e;return(0,s.jsx)("input",{type:r,className:(0,i.cn)("flex h-11 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});l.displayName="Input"},4165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>x,Es:()=>u,L3:()=>p,c7:()=>h,lG:()=>d,rr:()=>f,zM:()=>c});var s=a(5155),r=a(2115),i=a(5452),l=a(4416),n=a(9434);let d=i.bL,c=i.l9,o=i.ZL;i.bm;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});m.displayName=i.hJ.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,...d}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(i.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[r,(0,s.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500",children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=i.UC.displayName;let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};h.displayName="DialogHeader";let u=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};u.displayName="DialogFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});p.displayName=i.hE.displayName;let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.VY,{ref:t,className:(0,n.cn)("text-sm text-gray-500",a),...r})});f.displayName=i.VY.displayName},5057:(e,t,a)=>{"use strict";a.d(t,{J:()=>c});var s=a(5155),r=a(2115),i=a(968),l=a(2085),n=a(9434);let d=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(i.b,{ref:t,className:(0,n.cn)(d(),a),...r})});c.displayName=i.b.displayName},6126:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});var s=a(5155);a(2115);var r=a(2085),i=a(9434);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,i.cn)(l({variant:a}),t),...r})}},6299:(e,t,a)=>{Promise.resolve().then(a.bind(a,1397))},6695:(e,t,a)=>{"use strict";a.d(t,{Wu:()=>c,ZB:()=>d,Zp:()=>l,aR:()=>n,wL:()=>o});var s=a(5155),r=a(2115),i=a(9434);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-white text-gray-950 shadow-sm",a),...r})});l.displayName="Card";let n=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});d.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-gray-500",a),...r})}).displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",a),...r})});o.displayName="CardFooter"},8539:(e,t,a)=>{"use strict";a.d(t,{T:()=>l});var s=a(5155),r=a(2115),i=a(9434);let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("textarea",{className:(0,i.cn)("flex min-h-[120px] w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...r})});l.displayName="Textarea"},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i,oG:()=>d,rr:()=>n,vv:()=>l});var s=a(2596),r=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}function l(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function n(e,t){let a=t?encodeURIComponent(t):"";return"https://wa.me/".concat(e.replace(/[^\d]/g,"")).concat(a?"?text=".concat(a):"")}function d(){window.scrollTo({top:0,behavior:"smooth"})}}},e=>{var t=t=>e(e.s=t);e.O(0,[3455,369,8034,3070,8441,1684,7358],()=>t(6299)),_N_E=e.O()}]);