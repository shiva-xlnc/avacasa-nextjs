(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5894],{285:(e,a,s)=>{"use strict";s.d(a,{$:()=>c});var t=s(5155),r=s(2115),n=s(9708),i=s(2085),l=s(9434);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-white transition-all duration-300 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-400 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-gray-900 text-white hover:bg-gray-800 shadow-sm hover:shadow-md",destructive:"bg-red-500 text-white hover:bg-red-600 shadow-sm hover:shadow-md",outline:"border border-gray-200 bg-white text-gray-700 hover:bg-gray-50 shadow-sm hover:shadow-md",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200 shadow-sm",ghost:"hover:bg-gray-100 hover:text-gray-900 transition-colors duration-300",link:"text-gray-700 underline-offset-4 hover:underline hover:text-gray-900 transition-colors duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,a)=>{let{className:s,variant:r,size:i,asChild:c=!1,...o}=e,h=c?n.DX:"button";return(0,t.jsx)(h,{className:(0,l.cn)(d({variant:r,size:i,className:s})),ref:a,...o})});c.displayName="Button"},381:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},1497:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},2657:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2713:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},3027:(e,a,s)=>{Promise.resolve().then(s.bind(s,4268))},4268:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>N});var t=s(5155),r=s(2115),n=s(5695),i=s(6874),l=s.n(i);let d=(0,s(9946).A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var c=s(2713),o=s(2657),h=s(7340),m=s(4516),x=s(7580),u=s(8564),g=s(8883),y=s(1497),f=s(7434),p=s(381),v=s(4416),b=s(4835),k=s(4783),j=s(285);let w=[{name:"Dashboard",href:"/admin/dashboard",icon:d},{name:"User Analytics",href:"/admin/dashboard/analytics",icon:c.A},{name:"User Tracking",href:"/admin/dashboard/tracking",icon:o.A},{name:"Properties",href:"/admin/dashboard/properties",icon:h.A},{name:"Locations",href:"/admin/dashboard/locations",icon:m.A},{name:"Users",href:"/admin/dashboard/users",icon:x.A},{name:"Ratings & Reviews",href:"/admin/dashboard/ratings",icon:u.A},{name:"Email Subscribers",href:"/admin/dashboard/subscribers",icon:g.A},{name:"Inquiries",href:"/admin/dashboard/inquiries",icon:y.A},{name:"Blog Posts",href:"/admin/dashboard/blog",icon:f.A},{name:"Settings",href:"/admin/dashboard/settings",icon:p.A}];function N(e){var a;let{children:s}=e,[i,d]=(0,r.useState)(!1),[c,o]=(0,r.useState)(null),[h,m]=(0,r.useState)(!0),x=(0,n.useRouter)();(0,r.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=await fetch("/api/admin/me",{credentials:"include"});if(e.ok){let a=await e.json();o(a.admin)}else x.push("/admin/login")}catch(e){x.push("/admin/login")}finally{m(!1)}},g=async()=>{try{document.cookie="admin-token=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",x.push("/admin/login")}catch(e){console.error("Logout error:",e),x.push("/admin/login")}};return h?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):c?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsxs)("div",{className:"fixed inset-0 z-50 lg:hidden ".concat(i?"block":"hidden"),children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>d(!1)}),(0,t.jsxs)("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white shadow-xl",children:[(0,t.jsxs)("div",{className:"flex h-16 items-center justify-between px-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-900 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold text-sm",children:"A"})}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Admin"})]}),(0,t.jsx)("button",{onClick:()=>d(!1),children:(0,t.jsx)(v.A,{className:"h-6 w-6 text-gray-400"})})]}),(0,t.jsx)("nav",{className:"flex-1 space-y-1 px-2 py-4",children:w.map(e=>(0,t.jsxs)(l(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",onClick:()=>d(!1),children:[(0,t.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name))}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,t.jsxs)(j.$,{onClick:g,variant:"ghost",className:"w-full justify-start text-gray-600 hover:text-gray-900",children:[(0,t.jsx)(b.A,{className:"mr-3 h-5 w-5"}),"Sign out"]})})]})]}),(0,t.jsx)("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,t.jsxs)("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[(0,t.jsx)("div",{className:"flex h-16 items-center px-4",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-900 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold text-sm",children:"A"})}),(0,t.jsx)("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Avacasa Admin"})]})}),(0,t.jsx)("nav",{className:"flex-1 space-y-1 px-2 py-4",children:w.map(e=>(0,t.jsxs)(l(),{href:e.href,className:"group flex items-center px-2 py-2 text-sm font-medium rounded-md text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:[(0,t.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name))}),(0,t.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-gray-600 font-medium text-sm",children:(null==(a=c.name)?void 0:a.charAt(0))||"A"})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:c.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:c.role||"Admin"})]})]}),(0,t.jsxs)(j.$,{onClick:g,variant:"ghost",className:"w-full justify-start text-gray-600 hover:text-gray-900",children:[(0,t.jsx)(b.A,{className:"mr-3 h-5 w-5"}),"Sign out"]})]})]})}),(0,t.jsxs)("div",{className:"lg:pl-64",children:[(0,t.jsxs)("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8",children:[(0,t.jsx)("button",{type:"button",className:"-m-2.5 p-2.5 text-gray-700 lg:hidden",onClick:()=>d(!0),children:(0,t.jsx)(k.A,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{className:"flex flex-1 gap-x-4 self-stretch lg:gap-x-6",children:[(0,t.jsx)("div",{className:"flex flex-1"}),(0,t.jsx)("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Welcome back, ",c.name]})})]})]}),(0,t.jsx)("main",{className:"py-10",children:(0,t.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:s})})]})]}):null}},4416:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4516:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4783:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},4835:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},5695:(e,a,s)=>{"use strict";var t=s(8999);s.o(t,"notFound")&&s.d(a,{notFound:function(){return t.notFound}}),s.o(t,"useParams")&&s.d(a,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(a,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},7340:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},7434:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7580:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},8564:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},8883:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},9434:(e,a,s)=>{"use strict";s.d(a,{cn:()=>n,oG:()=>d,rr:()=>l,vv:()=>i});var t=s(2596),r=s(9688);function n(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}function i(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function l(e,a){let s=a?encodeURIComponent(a):"";return"https://wa.me/".concat(e.replace(/[^\d]/g,"")).concat(s?"?text=".concat(s):"")}function d(){window.scrollTo({top:0,behavior:"smooth"})}}},e=>{var a=a=>e(e.s=a);e.O(0,[3455,6874,8441,1684,7358],()=>a(3027)),_N_E=e.O()}]);