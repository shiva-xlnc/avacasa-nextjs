(()=>{var e={};e.id=8778,e.ids=[8778],e.modules={1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5069:(e,t,r)=>{"use strict";r.d(t,{zR:()=>a});var s=r(38824);let a=globalThis.prisma??new s.PrismaClient},5502:(e,t,r)=>{"use strict";r.d(t,{Bm:()=>n,Hy:()=>c,RA:()=>l});var s=r(5069);let a={siteName:"Avacasa",siteDescription:"Premium Real Estate Platform for Holiday Homes and Investment Properties",siteUrl:"https://avacasa.life",contactEmail:"contact@avacasa.life",contactPhone:"+91 9876543210",address:"Mumbai, Maharashtra, India",metaTitle:"Avacasa - Premium Real Estate Platform",metaDescription:"Discover premium holiday homes, farmlands, and investment properties. Your trusted partner in real estate investment.",metaKeywords:"real estate, holiday homes, farmland, investment properties, Mumbai, Maharashtra",ogImage:"/images/og-image.jpg",emailFrom:"noreply@avacasa.life",emailHost:"smtp.gmail.com",emailPort:"587",emailPassword:"",adminEmail:"admin@avacasa.life",googleAnalyticsId:"",facebookPixelId:"",trackingEnabled:!0,maintenanceMode:!1,allowRegistration:!0,requireEmailVerification:!0,maxLoginAttempts:5,sessionTimeout:24,featuredPropertiesLimit:6,blogPostsPerPage:9,enableComments:!0,moderateComments:!0,emailNotifications:!0,smsNotifications:!1,pushNotifications:!1,primaryColor:"#1f2937",secondaryColor:"#3b82f6",logoUrl:"/images/logo.png",faviconUrl:"/favicon.ico",facebookUrl:"",twitterUrl:"",instagramUrl:"",linkedinUrl:"",youtubeUrl:""},o=null,i=0;async function n(){try{let e=Date.now();if(o&&e-i<3e5)return o;let t=await s.zR.siteSettings.findUnique({where:{id:"settings"}}),r=a;if(t)try{let e=JSON.parse(t.data);r={...a,...e}}catch(e){console.error("Failed to parse settings data:",e)}return o=r,i=e,r}catch(e){return console.error("Failed to get site settings:",e),a}}function c(){o=null,i=0}async function l(){let e=await n();return{featuredPropertiesLimit:e.featuredPropertiesLimit,blogPostsPerPage:e.blogPostsPerPage,enableComments:e.enableComments,moderateComments:e.moderateComments}}},7066:e=>{"use strict";e.exports=require("node:tty")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{"use strict";e.exports=require("node:child_process")},33873:e=>{"use strict";e.exports=require("path")},38212:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>f,routeModule:()=>p,serverHooks:()=>g,workAsyncStorage:()=>d,workUnitAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{GET:()=>u});var a=r(96559),o=r(48088),i=r(37719),n=r(32190),c=r(5069),l=r(5502);async function u(e){try{let{searchParams:t}=new URL(e.url),r=parseInt(t.get("page")||"1"),s=parseInt(t.get("limit")||"0"),a=t.get("category"),o=t.get("featured"),i=t.get("search"),u=await (0,l.RA)(),p=s>0?s:u.blogPostsPerPage,d=(r-1)*p,m={status:"PUBLISHED",active:!0};a&&"All"!==a&&(m.category=a),"true"===o&&(m.featured=!0),i&&(m.OR=[{title:{contains:i,mode:"insensitive"}},{excerpt:{contains:i,mode:"insensitive"}},{content:{contains:i,mode:"insensitive"}}]);let[g,f]=await Promise.all([c.zR.blogPost.findMany({where:m,orderBy:[{featured:"desc"},{publishedAt:"desc"}],skip:d,take:p,select:{id:!0,title:!0,slug:!0,excerpt:!0,author:!0,category:!0,tags:!0,featuredImage:!0,featured:!0,views:!0,publishedAt:!0,createdAt:!0}}),c.zR.blogPost.count({where:m})]),P=g.map(e=>({...e,tags:e.tags?JSON.parse(e.tags):[]})),x=Math.ceil(f/p);return n.NextResponse.json({success:!0,data:P,pagination:{page:r,limit:p,total:f,totalPages:x,hasNext:r<x,hasPrev:r>1},settings:{blogPostsPerPage:u.blogPostsPerPage}})}catch(e){return console.error("Blog posts fetch error:",e),n.NextResponse.json({success:!1,error:"Internal server error",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let p=new a.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/blog/route",pathname:"/api/blog",filename:"route",bundlePath:"app/api/blog/route"},resolvedPagePath:"/Users/akashsharma/AkashDocs/avacasa/avacasa-nextjs/src/app/api/blog/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:d,workUnitAsyncStorage:m,serverHooks:g}=p;function f(){return(0,i.patchFetch)({workAsyncStorage:d,workUnitAsyncStorage:m})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},48161:e=>{"use strict";e.exports=require("node:os")},51455:e=>{"use strict";e.exports=require("node:fs/promises")},55511:e=>{"use strict";e.exports=require("crypto")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},78335:()=>{},78474:e=>{"use strict";e.exports=require("node:events")},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4243,580,2668,8824],()=>r(38212));module.exports=s})();