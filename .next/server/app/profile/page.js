(()=>{var e={};e.id=6636,e.ids=[6636],e.modules={1708:e=>{"use strict";e.exports=require("node:process")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7066:e=>{"use strict";e.exports=require("node:tty")},8819:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16698:e=>{"use strict";e.exports=require("node:async_hooks")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{"use strict";e.exports=require("node:child_process")},33873:e=>{"use strict";e.exports=require("path")},40228:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},48161:e=>{"use strict";e.exports=require("node:os")},50394:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>o});var t=a(65239),r=a(48088),i=a(88170),l=a.n(i),n=a(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let o={children:["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,75758)),"/Users/akashsharma/AkashDocs/avacasa/avacasa-nextjs/src/app/profile/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"/Users/akashsharma/AkashDocs/avacasa/avacasa-nextjs/src/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,54431)),"/Users/akashsharma/AkashDocs/avacasa/avacasa-nextjs/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,54413)),"/Users/akashsharma/AkashDocs/avacasa/avacasa-nextjs/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/akashsharma/AkashDocs/avacasa/avacasa-nextjs/src/app/profile/page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},51455:e=>{"use strict";e.exports=require("node:fs/promises")},53561:(e,s,a)=>{Promise.resolve().then(a.bind(a,75758))},55511:e=>{"use strict";e.exports=require("crypto")},57975:e=>{"use strict";e.exports=require("node:util")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},75758:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/akashsharma/AkashDocs/avacasa/avacasa-nextjs/src/app/profile/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/akashsharma/AkashDocs/avacasa/avacasa-nextjs/src/app/profile/page.tsx","default")},76760:e=>{"use strict";e.exports=require("node:path")},77598:e=>{"use strict";e.exports=require("node:crypto")},78474:e=>{"use strict";e.exports=require("node:events")},79551:e=>{"use strict";e.exports=require("url")},87545:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>b});var t=a(60687),r=a(43210),i=a(7112),l=a(69279),n=a(29523),c=a(89667),o=a(80013);let d=(0,a(62688).A)("pen-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var m=a(8819),x=a(11860),h=a(58869),p=a(41550),u=a(48340),v=a(40228),f=a(99891),j=a(43649),y=a(88233),g=a(16189);function b(){let{user:e,logout:s,updateUser:a}=(0,i.A)(),{trackPageView:b}=(0,l.z)(),N=(0,g.useRouter)(),[w,k]=(0,r.useState)(!1),[A,C]=(0,r.useState)(!1),[E,P]=(0,r.useState)(!1),[q,D]=(0,r.useState)(""),[_,M]=(0,r.useState)({name:"",email:"",mobile:""});if(!e)return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})});let T=async()=>{C(!0);try{let e=await fetch("/api/user/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(e.ok){let s=await e.json();a(s.user),k(!1)}else alert("Failed to update profile")}catch(e){console.error("Profile update error:",e),alert("Failed to update profile")}finally{C(!1)}},S=async()=>{if("DELETE"!==q)return void alert('Please type "DELETE" to confirm account deletion');C(!0);try{(await fetch("/api/user/delete",{method:"DELETE"})).ok?(s(),N.push("/")):alert("Failed to delete account")}catch(e){console.error("Account deletion error:",e),alert("Failed to delete account")}finally{C(!1)}};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 mt-30",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[e.avatar?(0,t.jsx)("img",{src:e.avatar,alt:e.name||"User",className:"w-16 h-16 rounded-full object-cover"}):(0,t.jsx)("div",{className:"w-16 h-16 bg-gray-900 text-white rounded-full flex items-center justify-center text-xl font-medium",children:(e.name||"U").split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-gray-600",children:e.email})]})]}),w?(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(n.$,{onClick:T,disabled:A,className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:A?"Saving...":"Save"})]}),(0,t.jsx)(n.$,{onClick:()=>{k(!1),M({name:e.name||"",email:e.email||"",mobile:e.mobile||""})},variant:"outline",children:(0,t.jsx)(x.A,{className:"w-4 h-4"})})]}):(0,t.jsxs)(n.$,{onClick:()=>k(!0),variant:"outline",className:"flex items-center space-x-2",children:[(0,t.jsx)(d,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Edit Profile"})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Profile Information"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"name",children:"Full Name"}),(0,t.jsxs)("div",{className:"relative mt-1",children:[(0,t.jsx)(h.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(c.p,{id:"name",type:"text",value:_.name,onChange:e=>M({..._,name:e.target.value}),disabled:!w,className:"pl-10"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"email",children:"Email Address"}),(0,t.jsxs)("div",{className:"relative mt-1",children:[(0,t.jsx)(p.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(c.p,{id:"email",type:"email",value:_.email,onChange:e=>M({..._,email:e.target.value}),disabled:!w,className:"pl-10"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"mobile",children:"Mobile Number"}),(0,t.jsxs)("div",{className:"relative mt-1",children:[(0,t.jsx)(u.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(c.p,{id:"mobile",type:"tel",value:_.mobile,onChange:e=>M({..._,mobile:e.target.value}),disabled:!w,className:"pl-10"})]})]})]})]})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Status"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Account Status"}),(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Active"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Email Verified"}),(0,t.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${e.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.verified?"Verified":"Pending"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[(0,t.jsx)(v.A,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:["Joined ",new Date(e.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(n.$,{variant:"outline",className:"w-full justify-start",onClick:()=>N.push("/favorites"),children:[(0,t.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"View Favorites"]}),(0,t.jsxs)(n.$,{variant:"outline",className:"w-full justify-start",onClick:()=>N.push("/properties"),children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Browse Properties"]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 border-red-200",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-red-900 mb-4 flex items-center",children:[(0,t.jsx)(j.A,{className:"w-5 h-5 mr-2"}),"Danger Zone"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),(0,t.jsxs)(n.$,{variant:"outline",className:"w-full border-red-300 text-red-700 hover:bg-red-50",onClick:()=>P(!0),children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"Delete Account"]})]})]})]}),E&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(j.A,{className:"w-6 h-6 text-red-600 mr-2"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Account"})]}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers."}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)(o.J,{htmlFor:"deleteConfirm",children:'Type "DELETE" to confirm:'}),(0,t.jsx)(c.p,{id:"deleteConfirm",type:"text",value:q,onChange:e=>D(e.target.value),placeholder:"DELETE",className:"mt-1"})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)(n.$,{onClick:S,disabled:A||"DELETE"!==q,className:"flex-1 bg-red-600 hover:bg-red-700",children:A?"Deleting...":"Delete Account"}),(0,t.jsx)(n.$,{onClick:()=>{P(!1),D("")},variant:"outline",className:"flex-1",children:"Cancel"})]})]})})]})})}},88233:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},90009:(e,s,a)=>{Promise.resolve().then(a.bind(a,87545))},99891:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(62688).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[4243,2404,7182],()=>a(50394));module.exports=t})();